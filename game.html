<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Number Guessing Game</title>

	<style>
		html {
	font-family: sans-serif;
	}
	
		body {
	width: 50%;
	max-width: 800px;
	min-width: 480px;
	margin: 0 auto;
	}
	</style>
</head>

<body>
<h1>Guess The Number</h1>

<p>We have selected a random number between 1 - 10.
See if you can guess it.</p>

<div class="form">
	<label for="guessField">Enter a guess: </label>
	<input type = "text" id = "guessField" class = "guessField">
	<input type = "submit" value = "Submit guess"
		class = "guessSubmit" id = "submitguess">

        <input type = "submit" value = "Restart Game"
		class = "restartgame"  id="reset">
</div>
<label for="guessField">SCORE: </label><p id="counter">0</p>


 
<script>

var n1 = localStorage.getItem('on_load_counter');
document.getElementById('counter').innerHTML = n1 ? n1 : 0 ;

function reset_counter() {
    localStorage.removeItem('on_load_counter');
    location.reload(true);
}
 
document.getElementById('reset').addEventListener('click', reset_counter);

</script>
<script type = "text/javascript">

	// random value generated
	var y = Math.floor(Math.random() * 10 + 1);
	console.log(y);
	// counting the number of guesses
	// made for correct Guess
	var guess = 1;

	document.getElementById("submitguess").onclick = function(){
	
// number guessed by user	
var x = document.getElementById("guessField").value;

if(x == y && guess <= 3)
{
    var n = localStorage.getItem('on_load_counter');
 
if (n === null) {
    n = 0;
}
 
n++;
 
localStorage.setItem("on_load_counter", n);
 
document.getElementById('counter').innerHTML = n;

	alert("CONGRATULATIONS!!! YOU GUESSED IT RIGHT IN "
			+ guess + " GUESS" );
            location.reload(true);
}
else if(x != y && guess < 2)
{	
	guess++;
	alert("OOPS SORRY!! 2 TRY left");
}
else if(x != y && guess < 3)
{	
	guess++;
	alert("OOPS SORRY!! 1 TRY left");
}
else if(x != y && guess == 3)
{	
	guess++;
	alert("OOPS SORRY!! NO TRY left");
    location.reload(true);
}


}
</script>
</body>
</html>					